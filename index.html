<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For BbubğŸ«¶ğŸ»</title>

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="blob b1"></div>
  <div class="blob b2"></div>

  <div class="toast" id="toast"><span class="dot"></span><span id="toastText">Saved ğŸ’Œ</span></div>

  <div class="card" id="card">
    <div class="topbar">
      <div class="badge">ğŸ’Œ <span id="stepText">A tiny date quiz</span></div>

      <div class="chip" id="timeChip">
        âœ¨
        <button class="chipBtn" onclick="openMiniMenu()" aria-label="Open menu">â‹¯</button>
      </div>
    </div>

    <!-- PAGE 1: INTRO -->
    <div id="intro">
      <h1>Hi BbubğŸ«¶ğŸ»</h1>
      <p>
        This coming Valentineâ€™s Day, I know you already have errands â€”
        but Iâ€™d love to take you out on a date whenever youâ€™re free.
      </p>

      <div class="note">ğŸ“¹ Take note: please screen record while answering the questions ğŸ˜‰</div>
      <div class="divider"></div>

      <div class="buttons" id="startArea">
        <button class="primary" onclick="startQuestions()">Start ğŸ’Œ</button>
      </div>

      <div class="footer">Small reminder: you can always go back and change answers âœ¨</div>
    </div>

    <!-- PAGE 2: QUIZ -->
    <div id="quiz" class="hidden">
      <div class="progressWrap">
        <div class="progressLabel" id="progressLabel">Question 1 of 7</div>
        <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
      </div>

      <div class="question" id="questionText"></div>
      <div class="buttons" id="answerButtons"></div>

      <div class="buttons">
        <button class="ghost" onclick="goBack()" id="backBtn" disabled>â† Back</button>
        <button class="ghost" onclick="restart()" title="Start over">â†º Restart</button>
      </div>

      <div class="footer">Tip: choose what feels right â€” weâ€™ll build the date together âœ¨</div>
    </div>

    <!-- PAGE 3: PICK DATE & TIME -->
    <div id="final" class="hidden">
      <h1>Pick Date &amp; Time ğŸ’Œ</h1>

      <div class="pickerCard">
        <div class="pickerTitle">
          <span>Pick our date &amp; time ğŸ’Œ</span>
          <span class="miniLink" onclick="suggestTimes()">Suggest âœ¨</span>
        </div>

        <div class="pickerGrid">
          <div class="field">
            <label for="datePick">Date</label>
            <input id="datePick" type="date" />
          </div>

          <div class="field">
            <label for="timePick">Time</label>
            <input id="timePick" type="time" />
          </div>
        </div>

        <div class="hint">Choose what works for you. Iâ€™ll adjust ğŸ«¶ğŸ»</div>
      </div>

      <div class="buttons">
        <button class="primary" onclick="goToExtraMessage()">Next ğŸ’</button>
        <button class="ghost" onclick="backToQuiz()">â† Back</button>
      </div>

      <div class="footer" id="footerFinal">Made for BbubğŸ«¶ğŸ» âœ¨</div>
    </div>

    <!-- PAGE 3.5: SWEET MESSAGE -->
    <div id="extraMessage" class="hidden">
      <h1>One more thingâ€¦ ğŸ«¶ğŸ»</h1>

      <div class="messageCard">
        <div class="messageTitle">
          <span>A little note for you ğŸ’—</span>
          <span class="miniLink" onclick="typeMessage()">Type it âœ¨</span>
        </div>

        <div class="messageBody" id="messageBody">
          I know life gets busy, but I just want you to know: Iâ€™m proud of you.
          Iâ€™m not here to rush youâ€”only to choose you, gently, every day.
        </div>

        <div class="msgSmall">P.S. You can press â€œType it âœ¨â€ if you want the message to appear like a cute typing effect ğŸ˜Œ</div>
      </div>

      <div class="buttons">
        <button class="primary" onclick="goToValentine()">Next ğŸ’˜</button>
        <button class="ghost" onclick="backToFinal()">â† Back</button>
      </div>

      <div class="footer">You + me + a simple date = perfect ğŸ˜Œ</div>
    </div>

    <!-- PAGE 4: VALENTINE (YES/NO with moving NO) -->
    <div id="valentine" class="hidden">
      <h1>Soâ€¦ will you be my Valentine? ğŸ’–</h1>
      <p style="margin-bottom:10px;">
        Just one last questionâ€¦ ğŸ«¶ğŸ»
      </p>

      <div class="buttons">
        <button class="primary" onclick="goToLoveReceipt()">Yes ğŸ’˜</button>

        <span class="no-wrap">
          <button class="secondary no-btn" id="noBtn"
            onmouseenter="moveNo()"
            ontouchstart="moveNo(); return false;"
            onclick="noTry()"
          >
            No ğŸ˜œ
          </button>
        </span>
      </div>

      <div class="footer">No pressureâ€¦ but alsoâ€¦ yes please ğŸ˜Œ</div>
    </div>

    <!-- PAGE 5: RECEIPT + CONFIRM -->
    <div id="loveReceiptPage" class="hidden">
      <h1>Our Little Love Receipt ğŸ’Œ</h1>
      <p style="margin-bottom:10px;">
        Just to make sure everything looks perfectâ€¦ ğŸ«¶ğŸ»
      </p>

      <div class="summary" id="loveReceiptBox"></div>

      <div class="buttons">
        <button class="primary" onclick="confirmEverything()">Confirm ğŸ’</button>
        <button class="secondary" onclick="copyReceipt()">Copy receipt ğŸ“‹</button>
      </div>

      <div id="celebrate" class="hidden confetti">
        See you on our date, I'm so excited ğŸ’•
      </div>
      <div class="footer" id="footerReceipt">Made for BbubğŸ«¶ğŸ» âœ¨</div>
    </div>
  </div>

  <!-- Mini menu modal -->
  <div class="modal" id="miniMenu" role="dialog" aria-modal="true">
    <div class="modalCard">
      <div class="modalTop">
        <div class="t">Little menu âœ¨</div>
        <button class="modalClose" onclick="closeMiniMenu()">Close</button>
      </div>

      <div class="modalBody">
        <div style="opacity:.92;">Choose a tiny extra:</div>

        <div class="modalGrid">
          <div class="tile" onclick="toggleAmbience()">
            <div><strong id="ambienceTitle">Ambience: ON</strong> ğŸŒ™</div>
            <div class="small">Turns background hearts/sparkles on/off.</div>
          </div>

          <div class="tile" onclick="surpriseCompliment()">
            <div><strong>Give me a compliment</strong> ğŸ«¶ğŸ»</div>
            <div class="small">A random sweet line.</div>
          </div>

          <div class="tile" onclick="jumpToReceipt()">
            <div><strong>Jump to receipt</strong> ğŸ’Œ</div>
            <div class="small">If you already answered everything.</div>
          </div>
        </div>

        <div class="hint" style="margin-top:12px;">
          Tip: long-press â€œNo ğŸ˜œâ€ still wonâ€™t work ğŸ˜Œ
        </div>
      </div>
    </div>
  </div>

  <!-- EmailJS (must be before script.js) -->
  <script defer src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script defer src="script.js"></script>
</body>
</html>
